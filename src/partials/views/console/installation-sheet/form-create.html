<div>
  <h3 class="form-title">Hoja de Instalación</h3>
  <form name="installationForm" role="form" novalidate
    ng-submit="installationSheet.save(installationForm)" autocomplete="off">

    <div class="form-group">
      <label>No Orden</label>
      <input name="noOrder" class="form-control"
        ng-model="installationSheet.orderNo" readonly>
      <small class="error-message"
        ng-if="installationForm.$validated && installationForm.noOrder.$error.required">Campo
        requerido</small>
    </div>

    <div class="form-group">
      <label>Persona que recibe la orden</label>
      <input name="receivingPerson" class="form-control"
        ng-model="installationSheet.receivingPerson" required="">
      <small class="error-message"
        ng-if="installationForm.$validated && installationForm.receivingPerson.$error.required">Campo
        requerido</small>
    </div>

    <!-- TODO: add validation -->
    <div class="form-group">
      <label>Celular</label>
      <input name="telephone" class="form-control"
        ng-model="installationSheet.telephone" required=""
        ui-mask="(999) 999-9999" type="text">
      <small class="error-message"
        ng-if="installationForm.$validated && installationForm.telephone.$error.required">Campo
        requerido</small>

    </div>


    <div class="form-group">
      <label>Dirección de entrega</label>
      <input type="text" gm-places-autocomplete="autocompleteOptions" ng-model="autocompleteModel" />
      <input name="address" class="form-control"
        ng-model="installationSheet.address" required="">
      <small class="error-message"
        ng-if="installationForm.$validated && installationForm.address.$error.required">Campo
        requerido</small>
    </div>

    <div class="form-group">
      <label>Código Postal</label>
      <input name="postalCode" class="form-control"
        ng-model="installationSheet.postalCode" required="">
      <small class="error-message"
        ng-if="installationForm.$validated && installationForm.postalCode.$error.required">Campo
        requerido</small>
    </div>

    <div class="form-group notes">
      <label>Referencia adicional de la dirección</label>
      <textarea name="addressReference"
        ng-model="installationSheet.addressReference"
        class="form-control"></textarea>
    </div>


    <label>Herramientas externas</label>
    <div class="form-group">
      <label class="checkbox-inline normal-height-checkbox">
        <input name="rotomartillo" type="checkbox"
          ng-model="installationSheet.extras.rotomartillo"
          ng-change="installationSheet.onChangeCheck(installationForm, 'rotomartillo')">
        Rotomartillo
      </label>

      <label class="checkbox-inline normal-height-checkbox">
        <input name="andamios" type="checkbox"
          ng-model="installationSheet.extras.andamios"
          ng-change="installationSheet.onChangeCheck(installationForm, 'andamios')">
        Andamios
      </label>

      <label class="checkbox-inline normal-height-checkbox">
        <input name="bomberoStaircase" type="checkbox"
          ng-model="installationSheet.extras.bomberoStaircase"
          ng-change="installationSheet.onChangeCheck(installationForm, 'bomberoStaircase')">
        Escalera de Bombero
      </label>

      <div ng-repeat="x in installationSheet.otherExtra">
        <label class="checkbox-inline normal-height-checkbox"><input name="x"
            type="checkbox" ng-model="installationSheet.extras[x]"
            ng-change="installationSheet.onChangeCheck(installationForm, x, 'otherExtra')">{{x}}
          <span class="glyphicon glyphicon-remove"
            ng-click="installationSheet.removeOtherExtra(x, 'otherExtra')"></span>
        </label>

      </div>

      <!-- TODO: fix inline css -->
      <div class="form-group" style="margin-top: 0.5rem;">
        <label class="checkbox-inline normal-height-checkbox">
          Agregar herramienta para la instalación:
        </label>
        <div class="input-group">
          <input name="extra" type="text" ng-model="installationSheet.extraText"
            class="form-control">

          <span class="glyphicon glyphicon glyphicon-plus input-group-addon"
            ng-click="installationSheet.addOtherExtra(installationSheet.extraText, 'otherExtra')"
            ng-disabled="installationSheet.otherExtra.length === 6"
            style="cursor: pointer;"></span>
        </div>
      </div>
    </div>



    <label>Material en donde se va a instalar </label>
    <div class="form-group">
      <label class="checkbox-inline normal-height-checkbox">
        <input name="madera" type="checkbox"
          ng-model="installationSheet.materials.madera"
          ng-change="installationSheet.onChangeCheck(installationForm, 'madera')">
        Madera
      </label>

      <label class="checkbox-inline normal-height-checkbox">
        <input name="tablaroca" type="checkbox"
          ng-model="installationSheet.materials.tablaroca"
          ng-change="installationSheet.onChangeCheck(installationForm, 'tablaroca')">
        Tabla Roca
      </label>

      <label class="checkbox-inline normal-height-checkbox">
        <input name="aluminio" type="checkbox"
          ng-model="installationSheet.materials.aluminio"
          ng-change="installationSheet.onChangeCheck(installationForm, 'aluminio')">
        Aluminio
      </label>


      <div ng-repeat="x in installationSheet.otherMaterials">


        <label class="checkbox-inline normal-height-checkbox"><input name="x"
            type="checkbox" ng-model="installationSheet.materials[x]"
            ng-change="installationSheet.onChangeCheck(installationForm, x, 'otherMaterials')">{{x}}
          <span class="glyphicon glyphicon-remove"
            ng-click="installationSheet.removeOtherExtra(x, 'otherMaterials')"></span>
        </label>


      </div>


      <div class="form-group">
        <!-- TODO: fix inline css -->
        <label class="checkbox-inline normal-height-checkbox">
          Agregar material de instalación adicional:
        </label>
        <div class="form-group" style="margin-top: 0.5rem;">
          <div class="input-group">
            <input name="extraMaterial" type="text"
              ng-model="installationSheet.extraMaterialText"
              class="form-control">

            <span class="glyphicon glyphicon glyphicon-plus input-group-addon"
              ng-click="installationSheet.addOtherExtra(installationSheet.extraMaterialText, 'otherMaterials')"
              ng-disabled="installationSheet.otherMaterials.length === 4"
              style="cursor: pointer;"></span>
          </div>
        </div>


      </div>

      <!-- <div class="input-group">
        <span class="input-group-addon">
          <input type="checkbox" aria-label="...">
        </span>
        <input type="text" class="form-control" aria-label="...">
      </div> -->




      <div>
        <button type="button" class="btn btn-default"
          ng-click="closeThisDialog('')">Cancelar</button>
        <button type="submit" class="btn btn-primary">
          {{installationSheet.mode === "create" ? "Crear" : "Actualizar"}}
        </button>
      </div>

  </form>
</div>